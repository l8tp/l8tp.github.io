<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script>
			
			loadData('menu.json','newdata')
			async function loadData(datalink,newdata) {
				// 1. 使用 Fetch API 获取数据
				const response = await fetch(datalink);
				// 2. 解析 JSON
				const data = await response.json();
				// 3.增添数据
				var num = 0;
				for(var n in data){
					const updatedjson ={
						...data[n],
						"group":"calo"
					} 
					//  console.log(n)
					// console.log(updatedjson)
					
				//重排序函数
				var nun =0;
				function reorder(obj,order){
					const res = {};
					for (let i=0; i<order.length; i++){
						const key = order[i];
						if(key in obj){
							res[key] = obj[key];
							num++;
							nun++;
						}
					}
					console.log('重排子集数:' + nun)
					return res;
				}
				const reordered = reorder(updatedjson,['title','nameb','kowei','href','group','content']);
				document.write(JSON.stringify(reordered) + ',<br>')
				}
				console.log(`重排${Number(n)+1}了个项目的${num}个子集`)
			}
		</script>
		
	</body>
</html>